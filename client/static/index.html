<!DOCTYPE html>
<html>
<head>
	<title>Annotation App</title>
	<meta charset="UTF-8">
	<link rel="shortcut icon" href="favicon64.png" type="image/png" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="elm-pep.js"></script>
	<script src="utils.js"></script>
	<script src="ports.js"></script>
	<script src="Main.js"></script>
</head>
<body>
	<div id="elm"></div>
	<script charset="utf-8">
		// Function returning the size of the container element for the app.
		// In our case, the full layout viewport.
		const layoutViewportSize = () => ({
			width: document.documentElement.clientWidth,
			height: document.documentElement.clientHeight
		});

		// Set elm app flags
		const flags = {
			deviceSize: layoutViewportSize(),
			mturkMode: false,
			images: [],
			config: `
				{ "classes": [ "human", { "category": "animals", "classes": [ "dragon" ] } ]
				, "tools": [ "move", "point", "bbox", "line", "outline", "polygon" ]
				}
				`
		}

		// Start elm app.
		const app = Elm.Main.init({
			node: document.getElementById("elm"),
			flags: flags
		})

		// Activate the app ports
		activatePorts(app, utils, layoutViewportSize)
	</script>
</body>
</html>
